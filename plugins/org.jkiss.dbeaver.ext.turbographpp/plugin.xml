<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.2"?>
<!--
 * DBeaver - Universal Database Manager
 * Copyright (C) 2010-2021 DBeaver Corp and others
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
  -->

<plugin>
   <extension
         point="org.jkiss.dbeaver.dataSourceProvider">
      <datasource
            class="org.jkiss.dbeaver.ext.turbographpp.TurboGraphPPDataSourceProvider"
            description="TurboGraph JDBC Driver"
            parent="generic"
            icon="icons/turbo_plus_plus_icon_16.png"
            id="turbographpp"
            label="turbograph jdbc"
            dialect="turbographpp">
<!--            <tree
                  icon="icons/wmi_icon.png"
                  label="TurboGraph++ data source"
                  path="turbographpp">
-->
                  <tree path="generic" label="Generic data source" supportsEntityMerge="true">
                  <items label="#catalog" path="catalog" property="catalogList" icon="#database" optional="true">
                    <items label="#schema" path="schema" property="schemaList" icon="#schema" optional="true">
                        <folder type="org.jkiss.dbeaver.ext.generic.model.GenericTable" label="%tree.tables.node.name" icon="#folder_table" description="%tree.tables.node.tip">
                            <items label="%tree.table.node.name" path="table" property="physicalTables" icon="#table">
                                <folder type="org.jkiss.dbeaver.ext.generic.model.GenericTableColumn" label="%tree.columns.node.name" icon="#columns" description="%tree.columns.node.tip">
                                    <items label="%tree.column.node.name" path="attribute" property="attributes" icon="#column">
                                    </items>
                                </folder>
                            </items>
                        </folder>
                     </items>
                  </items>
            </tree>
         <drivers managable="true">
            <driver
            	  categories="vit_graph"
                  class="org.neo4j.jdbc.Driver"
                  defaultPort="7687"
                  description="TurboGraph++ JDBC driver"
                  icon="icons/turbo_plus_plus_icon_16.png"
                  iconBig="icons/turbo_plus_plus_icon_64.png"
                  id="turbograph_jdbc"
                  label="TurboGraph++"
                  sampleURL="jdbc:neo4j:bolt://{host}[:{port}]/"
                  webURL="https://github.com/neo4j-contrib/neo4j-jdbc">
               <file
                     path="maven:/org.neo4j:neo4j-jdbc-driver:RELEASE"
                     type="jar">
               </file>
               <parameter
                     name="supports-truncate"
                     value="false">
               </parameter>
                   
               <property name="@dbeaver-default-sql.parameter.enabled" value="false"/>
            </driver>
         </drivers>
      </datasource>
   </extension>

    <extension point="org.jkiss.dbeaver.sqlDialect">
        <dialect id="turbographpp" parent="basic" class="org.jkiss.dbeaver.ext.turbographpp.model.TurboPPSQLDialect" label="TurboGraph++" description="TurboGraph++ dialect." icon="icons/turbo_plus_plus_icon_16.png">
        </dialect>
    </extension>


</plugin>
